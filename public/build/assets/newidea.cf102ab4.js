import{M as P,T as $,O as k,V as L,f as O,I as V,a as j,b as F,S as G,t as M,c as u,F as N,P as m,$ as o}from"./Map.0742d1b3.js";const f=new P({target:"map",layers:[new $({source:new k})],view:new L({center:O([11.57549,48.13743]),zoom:14})});var w=new V({anchor:[.5,1],src:"http://hackatum.test/marker.png",scale:.07});w.load();var v=new j({source:new F,style:new G({image:w})});f.addLayer(v);var t=null,r=null;f.on("click",function(g){t=g.coordinate,console.log(t);var s=M(t,new u({code:"EPSG:3857"}),new u({code:"EPSG:4326"}));r==null?(r=new N(new m(t)),v.getSource().addFeature(r)):r.setGeometry(new m(t));var y=s[1],h=s[0];o.ajax({url:`https://nominatim.openstreetmap.org/reverse?lat=${y}&lon=${h}&zoom=18&format=json`,data:{},success:function(e){var l,c;console.log(e.address);let n=e.address.quarter,p=e.address.road,S=e.address.house_number,d=e.address.suburb,b=(c=(l=e.address.city)!=null?l:e.address.town)!=null?c:e.address.village,i=e.address.city_district;var a;n!==void 0?a=n:d!==void 0?a=d:i!==void 0?a=i:a=b,o("#info").html(`${a}, ${p} ${S}`),o("#h-location").val(JSON.stringify(e.address)),o("#h-coordinates").val(JSON.stringify(s)),o("#location-needed").hide()}})});
